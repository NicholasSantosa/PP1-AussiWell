import{i as u,j as g,$ as w,o,c as a,d as r,b as s,a as e,t as k,w as m,n as p,e as y,T as v,g as _,F as b,m as R,p as S}from"./app.98e128ca.js";import E from"./EditExtensionId.246e54c0.js";import C from"./AddNewRecord.2919c186.js";import D from"./PastRecord.70be4a90.js";const F={class:"w-full max-w-2xl m-auto text-center"},N={class:"prose daisy-prose max-w-full mt-16"},T={class:"!m-0"},j={class:"prose daisy-prose mt-6 text-center max-w-full"},A=e("h2",null,[e("i",{class:"fa fa-clock-rotate-left"}),_(" Your "),e("span",{class:"text-primary"},"Shopping history")],-1),B=["disabled"],$={class:"fa fa-circle-notch fa-spin"},P={class:"fa fa-rotate"},V=_(" Refresh "),L={class:"mt-8 w-full"},G={key:0,class:"max-w-full mt-8"},H={key:1,class:"prose daisy-prose max-w-full mt-14"},M=["src"],O=e("h4",{class:"text-center text-neutral mt-8"},"Looks empty in here",-1),Y={key:2,class:"flex flex-wrap justify-center"},K={__name:"Page",props:{user:Object,isAuthenticated:String},setup(h){const f=h;let t=u(null),i=u(null);g(()=>{n()});let x=()=>{i.value.checkForExtensionData()},n=()=>{w.ajax({url:"/api/get-all-shopping-records",method:"GET",beforeSend:()=>{t.value=null},success:c=>{setTimeout(()=>{t.value=c},1e3)},error:()=>{alert("Something went wrong \u{1F910}")}})};return(c,d)=>(o(),a("div",F,[r(E,{onCheckForExtensionDataAgain:s(x)},null,8,["onCheckForExtensionDataAgain"]),e("div",N,[e("h1",T,"Hi, "+k(f.user.name),1)]),r(C,{onRefreshPastShoppingRecords:s(n),ref_key:"addNewRecordComponent",ref:i},null,8,["onRefreshPastShoppingRecords"]),e("div",j,[A,e("button",{class:"daisy-btn daisy-btn-primary gap-2",onClick:d[0]||(d[0]=(...l)=>s(n)&&s(n)(...l)),disabled:s(t)==null},[m(e("i",$,null,512),[[p,s(t)==null]]),m(e("i",P,null,512),[[p,s(t)!=null]]),V],8,B)]),e("div",L,[r(v,{name:"router-view",mode:"out-in"},{default:y(()=>[s(t)==null?(o(),a("div",G)):s(t).length==0?(o(),a("div",H,[e("img",{src:"/images/alien-taken.svg",class:"w-full max-w-[200px] block mx-auto",alt:"Empty cart"},null,8,M),O])):(o(),a("div",Y,[(o(!0),a(b,null,R(s(t),l=>(o(),S(D,{record:l},null,8,["record"]))),256))]))]),_:1})])]))}};export{K as default};
