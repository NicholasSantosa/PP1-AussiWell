import{m,h as p,i as h,$ as f,o,c as a,a as s,t as y,d as c,b as e,e as x,T as g,g as d,F as k,l as w,n as v}from"./app.18826c16.js";import b from"./AddNewRecord.8f0ff10d.js";import S from"./PastRecord.54a15d17.js";const R={class:"w-full max-w-2xl m-auto"},T={class:"prose daisy-prose text-center max-w-full"},B={class:"!m-0"},j=s("a",{href:"/logout",class:"daisy-link daisy-link-primary inline-block mt-5"},"Logout",-1),E={class:"prose daisy-prose mt-14 text-center max-w-full"},L=s("h2",null,[s("i",{class:"text-primary fa fa-clock-rotate-left"}),d(" Your Shopping history")],-1),N=["disabled"],P=s("i",{class:"fa fa-yin-yang"},null,-1),V=d(" Refresh "),$=[P,V],C={class:"mt-8 w-full"},F={key:0,class:"text-center prose daisy-prose max-w-full mt-8"},M=s("h1",null,[s("i",{class:"text-secondary fa fa-yin-yang fa-spin"})],-1),D=[M],G={key:1,class:"prose daisy-prose max-w-full mt-14"},H=["src"],O=s("h4",{class:"text-center text-neutral mt-8"},"Looks empty in here",-1),Y={key:2,class:"flex flex-wrap justify-center"},I={__name:"Page",props:{user:Object},setup(u){const _=u;m();let t=p(null);h(()=>{n()});let n=()=>{f.ajax({url:"/api/get-all-shopping-records",method:"GET",beforeSend:()=>{t.value=null},success:r=>{setTimeout(()=>{t.value=r},1e3)},error:()=>{alert("Something went wrong \u{1F910}")}})};return(r,i)=>(o(),a("div",R,[s("div",T,[s("h1",B,"Hi, "+y(_.user.name),1),j]),c(b,{onRefreshPastShoppingRecords:e(n)},null,8,["onRefreshPastShoppingRecords"]),s("div",E,[L,s("button",{class:"daisy-btn daisy-btn-secondary gap-2",onClick:i[0]||(i[0]=(...l)=>e(n)&&e(n)(...l)),disabled:e(t)==null},$,8,N)]),s("div",C,[c(g,{name:"router-view",mode:"out-in"},{default:x(()=>[e(t)==null?(o(),a("div",F,D)):e(t).length==0?(o(),a("div",G,[s("img",{src:"/images/alien-taken.svg",class:"w-full max-w-[200px] block mx-auto",alt:"Empty cart"},null,8,H),O])):(o(),a("div",Y,[(o(!0),a(k,null,w(e(t),l=>(o(),v(S,{record:l},null,8,["record"]))),256))]))]),_:1})])]))}};export{I as default};
