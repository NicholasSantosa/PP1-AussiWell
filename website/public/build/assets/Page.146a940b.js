import{i as u,j as w,o as s,c as o,d as i,b as t,a as e,t as x,w as _,n as p,e as k,T,g as m,F as v,m as y,p as D,$ as S}from"./app.8c8536d4.js";import b from"./EditExtensionId.5378103d.js";import R from"./AddNewRecord.182ea5cb.js";import E from"./PastRecord.3d630c32.js";const C={class:"w-full max-w-2xl m-auto text-center"},F={class:"prose daisy-prose max-w-full mt-16"},W={class:"!m-0"},Z={class:"prose daisy-prose mt-6 text-center max-w-full"},A=e("h2",null,[e("i",{class:"fa fa-clock-rotate-left"}),m(" Your "),e("span",{class:"text-primary"},"Shopping history")],-1),B=["disabled"],N={class:"fa fa-circle-notch fa-spin"},P={class:"fa fa-rotate"},j=m(" Refresh "),$={class:"mt-8 w-full"},L={key:0,class:"max-w-full mt-8"},M={key:1,class:"prose daisy-prose max-w-full mt-14"},O=["src"],V=e("h4",{class:"text-center text-neutral mt-8"},"Looks empty in here",-1),K={key:2,class:"flex flex-wrap justify-center"},z={__name:"Page",props:{user:Object,isAuthenticated:String},setup(h){const f=h;let a=u([{id:6,user_id:1,product_list:'["Tempters Tuna in Olive Oil 95g","Men Advanced Protection Sport Deodorant 220mL","KitKat Packed With Milo Bar 45g"]',created_at:"2 weeks ago",updated_at:"2022-10-11T09:08:41.000000Z"},{id:5,user_id:1,product_list:'["Toothpaste","Deodrant","Water"]',created_at:"3 weeks ago",updated_at:"2022-10-10T18:25:30.000000Z"},{id:4,user_id:1,product_list:'["Toothpaste","Deodrant","Water"]',created_at:"3 weeks ago",updated_at:"2022-10-10T18:25:29.000000Z"},{id:3,user_id:1,product_list:'["Toothpaste","Deodrant","Water"]',created_at:"3 weeks ago",updated_at:"2022-10-10T18:24:37.000000Z"},{id:2,user_id:1,product_list:'["Toothpaste","Deodrant","Water"]',created_at:"3 weeks ago",updated_at:"2022-10-10T18:21:05.000000Z"},{id:1,user_id:1,product_list:'["Toothpaste","Deodrant","Water"]',created_at:"3 weeks ago",updated_at:"2022-10-10T18:14:18.000000Z"}]),d=u(null);w(()=>{});let g=()=>{d.value.checkForExtensionData()},r=()=>{S.ajax({url:"/api/get-all-shopping-records",method:"GET",beforeSend:()=>{a.value=null},success:l=>{setTimeout(()=>{a.value=l},1e3)},error:()=>{alert("Something went wrong \u{1F910}")}})};return(l,c)=>(s(),o("div",C,[i(b,{onCheckForExtensionDataAgain:t(g)},null,8,["onCheckForExtensionDataAgain"]),e("div",F,[e("h1",W,"Hi, "+x(f.user.name),1)]),i(R,{onRefreshPastShoppingRecords:t(r),ref_key:"addNewRecordComponent",ref:d},null,8,["onRefreshPastShoppingRecords"]),e("div",Z,[A,e("button",{class:"daisy-btn daisy-btn-primary gap-2",onClick:c[0]||(c[0]=(...n)=>t(r)&&t(r)(...n)),disabled:t(a)==null},[_(e("i",N,null,512),[[p,t(a)==null]]),_(e("i",P,null,512),[[p,t(a)!=null]]),j],8,B)]),e("div",$,[i(T,{name:"router-view",mode:"out-in"},{default:k(()=>[t(a)==null?(s(),o("div",L)):t(a).length==0?(s(),o("div",M,[e("img",{src:"/images/alien-taken.svg",class:"w-full max-w-[200px] block mx-auto",alt:"Empty cart"},null,8,O),V])):(s(),o("div",K,[(s(!0),o(v,null,y(t(a),n=>(s(),D(E,{record:n},null,8,["record"]))),256))]))]),_:1})])]))}};export{z as default};
