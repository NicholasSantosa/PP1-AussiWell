import{h as c,i as m,o as d,c as r,w as _,j as h,b as t,a as e,k as y,d as f,e as b,T as v,F as u,l as g,t as x,$ as w,g as k}from"./app.122dc92a.js";const S={class:"daisy-modal daisy-modal-bottom sm:daisy-modal-middle"},L={class:"daisy-modal-box border-[1px] border-base-300"},P={class:"min-h-[200px] overflow-y-scroll h-[200px] border-[1px] p-4 border-base-300 rounded-l-box"},T={key:0,class:"text-center"},j=e("h4",null,[e("i",{class:"text-primary fa fa-cog fa-spin"}),k("\xA0\xA0Loading your cart")],-1),N=[j],R={key:1,class:"prose daisy-prose"},V=e("h2",{class:"!m-0"},"Products found in your cart",-1),B={class:"daisy-steps daisy-steps-vertical"},C={class:"daisy-step daisy-step-primary"},D={class:"daisy-modal-action flex justify-between"},M=e("label",{for:"modle-add-new-record",class:"daisy-btn w-1/2"},"Discard",-1),F=["disabled"],E={__name:"AddNewRecord",emits:["refreshPastShoppingRecords"],setup(O,{emit:p}){let s=c(null),o=c(!1);m(()=>{try{chrome.runtime.sendMessage("faikcccoaifenipeoglkklceopfnnhoj","getLocalStorage",l=>{o.value=!0,setTimeout(()=>{s.value=l},2e3)})}catch{}});let n=()=>{w.ajax({url:"/api/add-shopping-record",method:"POST",data:{productList:s.value},success:()=>{s.value=null,o.value=!1,p("refreshPastShoppingRecords")},error:l=>{alert("Something went wrong \u{1F910}")}})};return(l,i)=>(d(),r(u,null,[_(e("input",{type:"checkbox",id:"modle-add-new-record",class:"daisy-modal-toggle","onUpdate:modelValue":i[0]||(i[0]=a=>y(o)?o.value=a:o=a)},null,512),[[h,t(o)]]),e("div",S,[e("div",L,[e("div",P,[f(v,{name:"router-view",mode:"out-in"},{default:b(()=>[t(s)==null?(d(),r("div",T,N)):(d(),r("div",R,[V,e("ul",B,[(d(!0),r(u,null,g(t(s),a=>(d(),r("li",C,x(a),1))),256))])]))]),_:1})]),e("div",D,[M,e("button",{class:"daisy-btn w-1/2 daisy-btn-success",disabled:t(s)==null,onClick:i[1]||(i[1]=(...a)=>t(n)&&t(n)(...a))},"Save record",8,F)])])])],64))}};export{E as default};
