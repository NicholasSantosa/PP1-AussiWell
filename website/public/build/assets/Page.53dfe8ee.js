import{m as h,h as f,i as x,$ as y,o,c as a,a as s,t as c,d,b as e,e as g,T as k,g as u,F as w,l as v,n as b}from"./app.25672559.js";import S from"./AddNewRecord.a3990103.js";import R from"./PastRecord.8e53639e.js";const T={class:"w-full max-w-2xl m-auto"},B={class:"prose daisy-prose text-center max-w-full"},j={class:"!m-0"},E=s("a",{href:"/logout",class:"daisy-link daisy-link-primary inline-block mt-5"},"Logout",-1),L={class:"prose daisy-prose mt-14 text-center max-w-full"},N=s("h2",null,[s("i",{class:"text-primary fa fa-clock-rotate-left"}),u(" Your Shopping history")],-1),P=["disabled"],V=s("i",{class:"fa fa-yin-yang"},null,-1),$=u(" Refresh "),C=[V,$],D={class:"mt-8 w-full"},F={key:0,class:"text-center prose daisy-prose max-w-full mt-8"},M=s("h1",null,[s("i",{class:"text-secondary fa fa-yin-yang fa-spin"})],-1),G=[M],H={key:1,class:"prose daisy-prose max-w-full mt-14"},I=["src"],O=s("h4",{class:"text-center text-neutral mt-8"},"Looks empty in here",-1),Y={key:2,class:"flex flex-wrap justify-center"},J={__name:"Page",props:{user:Object},setup(_){const m=_,p=h();let t=f(null);x(()=>{n()});let n=()=>{y.ajax({url:"/api/get-all-shopping-records",method:"GET",beforeSend:()=>{t.value=null},success:r=>{setTimeout(()=>{t.value=r},1e3)},error:()=>{alert("Something went wrong \u{1F910}")}})};return(r,i)=>(o(),a("div",T,[s("div",B,[s("h1",j,"Hi, "+c(m.user.name),1),E]),d(S,{onRefreshPastShoppingRecords:e(n)},null,8,["onRefreshPastShoppingRecords"]),s("div",L,[N,s("button",{class:"daisy-btn daisy-btn-secondary gap-2",onClick:i[0]||(i[0]=(...l)=>e(n)&&e(n)(...l)),disabled:e(t)==null},C,8,P),s("p",null,c(e(p).extensionID),1)]),s("div",D,[d(k,{name:"router-view",mode:"out-in"},{default:g(()=>[e(t)==null?(o(),a("div",F,G)):e(t).length==0?(o(),a("div",H,[s("img",{src:"/images/alien-taken.svg",class:"w-full max-w-[200px] block mx-auto",alt:"Empty cart"},null,8,I),O])):(o(),a("div",Y,[(o(!0),a(w,null,v(e(t),l=>(o(),b(R,{record:l},null,8,["record"]))),256))]))]),_:1})])]))}};export{J as default};
