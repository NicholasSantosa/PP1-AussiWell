import{h as c,i as m,o as d,c as l,w as _,j as h,b as a,a as s,k as b,d as y,e as f,T as v,F as u,l as g,t as x,$ as w,g as k}from"./app.68a3e926.js";const S={class:"daisy-modal daisy-modal-bottom sm:daisy-modal-middle"},j={class:"daisy-modal-box border-[1px] border-base-300"},L={class:"min-h-[200px] overflow-y-scroll h-[200px] border-[1px] p-4 border-base-300 rounded-l-box"},P={key:0,class:"text-center"},T=s("h4",null,[s("i",{class:"text-primary fa fa-cog fa-spin"}),k("\xA0\xA0Loading your cart")],-1),N=[T],R={key:1,class:"prose daisy-prose"},V=s("h2",{class:"!m-0"},"Products found in your cart",-1),B={class:"daisy-steps daisy-steps-vertical"},C={class:"daisy-step daisy-step-primary"},D={class:"daisy-modal-action flex justify-between"},M=s("label",{for:"modle-add-new-record",class:"daisy-btn w-1/2"},"Discard",-1),F=["disabled"],E={__name:"AddNewRecord",emits:["refreshPastShoppingRecords"],setup(O,{emit:p}){let e=c(null),o=c(!1);m(()=>{try{chrome.runtime.sendMessage("lfgfbfbjbpjmbpkkfblelcnpljlocpgf","getLocalStorage",i=>{o.value=!0,setTimeout(()=>{e.value=i},2e3)})}catch{}});let n=()=>{w.ajax({url:"/api/add-shopping-record",method:"POST",data:{productList:e.value},success:()=>{e.value=null,o.value=!1,p("refreshPastShoppingRecords")},error:i=>{alert("Something went wrong \u{1F910}")}})};return(i,r)=>(d(),l(u,null,[_(s("input",{type:"checkbox",id:"modle-add-new-record",class:"daisy-modal-toggle","onUpdate:modelValue":r[0]||(r[0]=t=>b(o)?o.value=t:o=t)},null,512),[[h,a(o)]]),s("div",S,[s("div",j,[s("div",L,[y(v,{name:"router-view",mode:"out-in"},{default:f(()=>[a(e)==null?(d(),l("div",P,N)):(d(),l("div",R,[V,s("ul",B,[(d(!0),l(u,null,g(a(e),t=>(d(),l("li",C,x(t),1))),256))])]))]),_:1})]),s("div",D,[M,s("button",{class:"daisy-btn w-1/2 daisy-btn-success",disabled:a(e)==null,onClick:r[1]||(r[1]=(...t)=>a(n)&&a(n)(...t))},"Save record",8,F)])])])],64))}};export{E as default};
